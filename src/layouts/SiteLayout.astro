---
import "../styles/global.css";
import Header from "../components/Header.astro";
import logo from "../../public/logo.png";
import StickyBookBar from "../components/StickyBookBar.astro";
import StickyCTA from "../components/src/components/StickyCTA.astro";

const {
  title = "Blue_Parking",
  description = "Estacionamiento seguro y práctico.",
  ogImage = "/og.jpg",
  noIndex = false,
} = Astro.props;
---

<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    {noIndex && <meta name="robots" content="noindex,nofollow" />}
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:type" content="website" />
    <link rel="icon" href="/favicon.ico" />
  </head>
  <body class="min-h-screen bg-white text-gray-900 antialiased w-100">
    <Header
      logoHref={"#INICIO"}
      logoSrc={logo.src}
      logoAlt={"Blue_Parking"}
      links={[
        { href: "#SERVICIO", label: "Servicio" },
        { href: "#BENEFICIOS", label: "Beneficios" },
        { href: "#COMO-FUNCIONA", label: "Cómo funciona" },
        // { href: "#PREGUNTAS-FRECUENTES", label: "Preguntas frecuentes" },
        { href: "#PRECIOS", label: "Precios" },
        // { href: "#NOSOTROS", label: "Nosotros" },
        // { href: "#CONTACTO", label: "Contacto" },
      ]}
      cta={{ href: "/reservar", label: "Reserva" }}
    />
    <StickyBookBar />
    {/* full-bleed pegado bajo el header (header = h-16 = 64px) */}
    <div class="-mt-16 relative z-0">
      <slot name="full" />
    </div>

    {/* contenido normal */}
    <slot />
    <a
      href="https://wa.me/541136000205?text=Hola!%20Quiero%20reservar"
      class="fixed right-4 bottom-4 z-40 rounded-full px-4 py-3 shadow-lg
          bg-[var(--bp-accent)] hover:bg-[var(--bp-accent-600)] text-[#111]"
    >
      WhatsApp
    </a>
    <StickyCTA
      href="/reservar"
      whatsappHref="https://wa.me/541136000205?text=%C2%A1Hola!%20Quiero%20reservar%20una%20cochera."
    />
    <footer class="border-t border-gray-200">
      <div
        class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 text-sm text-gray-600 flex flex-col sm:flex-row items-center justify-between gap-3"
      >
        <p>
          © {new Date().getFullYear()} Blue_Parking. Todos los derechos reservados.
        </p>
        <nav class="flex items-center gap-4">
          <a href="#CONTACTO" class="hover:text-gray-900">Contacto</a>
          <a href="/terminos" class="hover:text-gray-900">Términos</a>
          <a href="/privacidad" class="hover:text-gray-900">Privacidad</a>
        </nav>
      </div>
    </footer>
    <script is:inline>
      const io = new IntersectionObserver(
        (es) =>
          es.forEach((e) =>
            e.target.classList.toggle("is-in", e.isIntersecting)
          ),
        { threshold: 0.2 }
      );
      document.querySelectorAll(".reveal").forEach((el) => io.observe(el));
    </script>
  </body>
</html>
